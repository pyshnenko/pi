# pi

ttt

Телеграм-бот для домашнего сервера

Основа - raspberry pi

Для управления гирляндой используется источник постоянного напряжения 300В. Питается от сети, выпрямление - диодный мост и фильтр. Ключи на МОП-транзисторах
Для безопасности есть реле на высоковольтном входе

отправка команды на шлагбаум осуществляется через пульт. Параллельно кнопке открытия установлена оптопара. При получении команды (+3В) имитируется нажатие кнопки

длительность определялась опытным путем

есть 2 группы пользователей: администраторы и прочие. Администраторы могут управлять светом, просматривать статус, просматривать логи, управлять пользователями

все пользователи могут открывать шлагбаум, запрашивать погоду в городах, пользоваться распознаванием текста

по webSocket идет обмен с хабом, контролирующим работу моих ботов. Основные команды дублируются на хаб для логгирования

имеется возможность массовых рассылок

по протоколу imap бот умеет читать почту. Если имеется рассылка от россетей, происходит автоматическая пересылка письма пользователям (уведомление об отключении электричества)

раз в 2,5 минуты бот фиксирует время и спецкоманды в текстовый файл. раз в 5 минут bash-скрипт просматривает файл и если есть команда на перезапуск или время давно 
не обновлялось, перезагружает устройство. по команде pull обновляем локальную репозиторию
